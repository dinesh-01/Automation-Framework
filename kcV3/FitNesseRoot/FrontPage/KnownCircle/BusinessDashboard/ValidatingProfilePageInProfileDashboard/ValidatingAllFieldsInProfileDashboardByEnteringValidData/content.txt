!define phone {9962541005}
!define URL {http://www.knowncircle.com}
!define twitter {knowncircle}
!define facebook {pages/KnownCircle/628658897249689}
!define google {u/1/106194930107228028831/posts}
!define linkedin {company/knowncircle}
!define city {Los Banos, CA, 93635}
!define timezone {Pacific Time}
!define days {Mon}
!define fromTime {9:00 AM}
!define toTime {7:00 PM}
!define personalNotes {Automation testing for profile dashboard page}
!define carrier {Allstate}
!define businessNameClaim {}
!define businessName {Knowncircle Profile Test}

!include -c .FrontPage.KnownCircle.DynamicVariables
!include -c .FrontPage.KnownCircle.BusinessDashboard.RegistrationHeader


!*** checking Business field with valid Data
!|Script|Selenium|
|navigateToUrl; |${mainURLCanary}business/dashboard/profile|
|refresh;|
| $addressData= | getText; |.profile-section.profile-main-section| cssselector |
*!

!*** checking Location field with valid Data
!define street1 {104 W Pacheco Blvd  }
!define street2 {255 N Mercey Springs Rd}
!define city {Los Banos, CA, 93635}


!|Script|Selenium|
| click; |div[data-ng-controller="DashboardLocationController"]|cssselector|
| waitForElementToBeDisplayed; | .modal-body.default-location | cssselector | 60 |
| clearValue; | input[data-ng-model="location.street1"] | cssselector |
| clearValue; | input[data-ng-model="location.street2"] | cssselector |
| sendKeys; | input[data-ng-model="location.street1"] | cssselector | ${street1} |
| sendKeys; | input[data-ng-model="location.street2"] | cssselector | ${street2} |
| changeElementView;|input[data-ng-model="location.city"]|cssselector|block      |
| clearValue; | input[data-ng-model="location.city"] | cssselector |
| sendKeys; | input[data-ng-model="location.city"] | cssselector | ${city} |
| click; |button[data-ng-click="saveLocations()"]|cssselector|
| wait;|2|
| $data=|getText;|.address|cssselector|
*!


!*** Checking Contact fields with valid data

!define phone {(996) 254 1005}
!define URL {http://www.knowncircle$randomChar.com}
!define twitter {knowncircle$randomChar}
!define facebook {pages/KnownCircle$randomChar/628658897249689}
!define google {u/1/106194930107228028831$randomChar/posts}
!define linkedin {company/knowncircle$randomChar}
!define timezone {Pacific Time}
!define days {Tue}
!define fromTime {9:00 AM}
!define toTime {7:00 PM}
!define personalNotes {Automation testing for profile dashboard page $randomChar}

!|Script|Selenium|
| click;|button[data-ng-click="setMode('mode.edit.contact')"]|cssselector|
| sendKeys; | phone| id | ${phone} |
| sendKeys; | website| id | ${URL} |
| sendKeys; | twitter| id | ${twitter} |
| sendKeys; | facebook| id | ${facebook} |
| sendKeys; | gplus | id | ${google} |
| sendKeys; | linkedin | id | ${linkedin} |
| click;|button[data-ng-click='save("contact"); setMode()']|cssselector|
| click;|button[data-ng-click="setMode('mode.edit.working_hrs')"]|cssselector|
| selectDropdownValue;|timezone|id|${timezone}|
| selectDropdownValue;|days|id|${days}|
| selectDropdownValue;|fromTime|id|${fromTime}|
| selectDropdownValue;|toTime|id|${toTime}|
| click;|button[data-ng-click='addWorkingTime()']|cssselector|
| click; |button[data-ng-click='save("work_time"); setMode()']|cssselector|
| click;|button[data-ng-click="setMode('mode.edit.note')"]|cssselector|
| sendKeys; | personal_note | id |  ${personalNotes} |
| click; | button[data-ng-click='save("note"); setMode()']|cssselector|
| $details= | getText; |.profile-section.profile-contact-section | cssselector|
**!

!** checking team section with valid data

!define name1 {Knowncircle $randomChar}
!define position1 {employee1 $randomChar}
!define email {email$randomChar@knowncircle.com}

!|Script|Selenium|
| click; |button[data-ng-click="clearCurrentTeam(); section.team = 'add'"]|cssselector|
| sendKeys; | input[placeholder="Name of the member"] | cssselector | ${name1} |
| sendKeys; | input[placeholder="Designation"] | cssselector | ${position1} |
| sendKeys; | input[placeholder="Email address"] | cssselector | ${email} |
| click; |button[data-ng-click='save("team"); setMode(); clearCurrentTeam()'] |cssselector            |
| $team= | getText; |.profile-section.profile-team-section| cssselector |
| wait;|2|
*!




!** Checking service field with valid data
!|Script|Selenium|
|click;|button[data-ng-click='addCategory()']|cssselector|
|click;|.selectize-input.items.not-full.has-options|cssselector|
|waitForElementToBeDisplayed;|.selectize-input.items.not-full.has-options.focus.input-active.dropdown-active|cssselector|4|
|click;|div[data-value='524210']|cssselector|
|click;|input[placeholder="Choose services"]|cssselector|
|wait;|2|
|click;|div[data-value='Accident']|cssselector|
|click;|.profile_info|cssselector|
|click;|button[data-ng-click='saveCategory()']|cssselector|
|$serviceData1= | getText; | .profile-section.profile-service-section| cssselector |
**!


!** Checking carrier section with valid data
!|Script|Selenium|
|click;|button[data-ng-click='editCarriers()']|cssselector|
|click;|input[placeholder="Choose carriers"]|cssselector|
|sendKeys;|input[placeholder="Choose carriers"]|cssselector|demo carrier|
|waitForElementToBeDisplayed;|.create.active|cssselector|4|
|click;|.create.active|cssselector|
|click;|button[data-ng-click='save("carriers"); section.carriers="view"']|cssselector|
|$carrirer=|getText;|.profile-section.profile-carrier-section.ng-scope|cssselector|
|refresh;|
**!

!** Checking all the values 
!| Script | Common |
| check | checkIfStringExistsIn; | demo carrier | $carrirer | true |
| check | checkIfStringExistsIn; | INSURANCE | $serviceData1 | true |
| check | checkIfStringExistsIn; | Accident| $serviceData1 | true |
| check  | checkIfStringExistsIn; | ${name1} | $team| true |
| check  | checkIfStringExistsIn; | ${position1} | $team| true |
| check  | checkIfStringExistsIn; | ${email} | $team| true |
| check | checkIfStringExistsIn; | ${phone} | $details | true |
| check | checkIfStringExistsIn; | ${URL} | $details | true |
| check | checkIfStringExistsIn; | ${timezone} | $details |  true |
| check | checkIfStringExistsIn; | ${days} | $details |  true |
| check | checkIfStringExistsIn; | ${fromTime} | $details |  true |
| check | checkIfStringExistsIn; | ${toTime} | $details |  true |
| check | checkIfStringExistsIn; | ${personalNotes} | $details |  true |
| check  | checkIfStringExistsIn; | ${street1} | $data| true |
| check  | checkIfStringExistsIn; | ${street2} | $data| true |
| check  | checkIfStringExistsIn; | ${city} | $data| true |
| check  | checkIfStringExistsIn; | ${businessName} | $addressData | true |

!|Script|Selenium|
| check | isElementPresent; |.icon.icon-social.icon-social-facebook-profile|cssselector| true |
| check | isElementPresent; |.icon.icon-social.icon-social-gplus-profile|cssselector| true |
| check | isElementPresent; |.icon.icon-social.icon-social-linkedin-profile|cssselector| true |
| check | isElementPresent; |.icon.icon-social.icon-social-twitter-profile|cssselector| true |
|closeBrowser;|
**!


